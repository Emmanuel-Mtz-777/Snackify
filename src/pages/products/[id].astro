---
import productsData from "../../utils/productsData";
import Principal from "../../layouts/Principal.astro";
import CategoryBar from "../../components/CategoryBar.astro";

export async function getStaticPaths() {
  const paths = productsData.map((product) => ({
    params: { id: product.id.toString() },
  }));

  return paths; 
}
const { id } = Astro.params; 
const product = productsData.find((p) => p.id.toString() === id);
if (!product) {
  throw new Error("Producto no encontrado");
}


---

<Principal>
	<CategoryBar/>
	
	<main class="bg-gradient-to-b from-[#1e1f27fe] to-[#4b4c59c1] w-full flex flex-col items-center px-4">
    <div class="w-[80%] flex justify-between h-[500px] bg-[#00000095] my-[10px] rounded-xl relative">
      <div class="w-[40%] flex justify-center h-full items-center bg-gradient-to-b from-[#0f0f0f] via-[#1c1c1c] to-[#2a2a2a] rounded-xl shadow-[0_0_10px_#ffffff40]">
        <img src={product.image} alt={product.name} class="h-[400px] w-auto"/>
      </div>
      <div class="w-[60%] flex flex-col text-[#ddd] items-center justify-center h-full">
        <div class="w-[80%] h-[90%]">
        <h1 class="text-5xl font-bold " >{product.name}</h1>
        <p class="text-xl font-semibold my-[30px]">Categoría: {product.category}</p>
          <div class="w-[80%] h-[200px] flex justify-center items-center bg-gradient-to-r">
          <p class="text-lg">{product.description}</p>
          </div>
          <div class="absolute bottom-[50px] w-[50%] flex justify-between items-center">
            <p class="text-xl font-semibold">Precio:${product.price}</p>
            <button class="text-xl border p-2 rounded-xl transition duration-200 hover:bg-white hover:text-black ">Añadir al carrito</button>
          </div>

        </div>
        
      </div>
    </div>
    
  </main>

</Principal>

